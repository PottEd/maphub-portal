{
"id": "<%= @map.id %>",
"identifier": "<%= @map.identifier %>",
"subject": "<%= @map.subject %>",
"title": "<%= @map.title %>",
"author": "<%= @map.author %>",
"date": "<%= @map.date %>",
"height": <%= @map.height %>,
"width": <%= @map.width %>,
"updated_at": "<%= @map.updated_at %>",
"created_at": "<%= @map.created_at %>",
"thumbnail_uri": "<%= @map.thumbnail_uri %>",
"tileset_uri": "<%= @map.tileset_uri %>"
<% unless @map.overlay_tileset_uri.nil? %>
,"overlay_tileset_uri": "<%= @map.overlay_tileset_uri %>"
<% end %>
<% if @map.control_points.count > 0 %>
,"controlpoints": [
<% @map.control_points.each_with_index do |controlpoint, index | %>
    {
    "lat": <%= controlpoint.lat %>,
    "lng": <%= controlpoint.lng %>,
    "x": <%= controlpoint.x %>,
    "y": <%= controlpoint.y %>
    }
    <% if index < @map.control_points.count-1 %>,<% end %>
<% end %>
]
<% end %>
<% if @map.boundary.sw_lat %>,"sw_lat": "<%= @map.boundary.sw_lat -%>"<% end -%>
<% if @map.boundary.sw_lng %>,"sw_lng": "<%= @map.boundary.sw_lng -%>"<% end -%>
<% if @map.boundary.ne_lat %>,"ne_lat": "<%= @map.boundary.ne_lat -%>"<% end -%>
<% if @map.boundary.ne_lng %>,"ne_lng": "<%= @map.boundary.ne_lng -%>"<% end -%>
}
